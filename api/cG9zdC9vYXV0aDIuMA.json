{"title":"oauth2.0","date":"2019-08-01T00:00:00.000Z","link":"post/oauth2.0","tags":["security"],"categories":["program"],"updated":"2019-08-01T00:00:00.000Z","content":"<p><strong>开放授权</strong>（<a href=\"https://oauth.net\" target=\"_blank\" rel=\"noopener\">OAuth</a>）是一个<a href=\"https://zh.wikipedia.org/wiki/开放标准\" target=\"_blank\" rel=\"noopener\">开放标准</a>，允许用户让第三方应用访问该用户在某一网站上存储的私密的资源（如照片，视频，联系人列表），而无需将用户名和<a href=\"https://zh.wikipedia.org/wiki/密码\" target=\"_blank\" rel=\"noopener\">密码</a>提供给第三方应用。</p>\n<p>OAuth允许用户提供一个<a href=\"https://zh.wikipedia.org/w/index.php?title=令牌&amp;action=edit&amp;redlink=1\" target=\"_blank\" rel=\"noopener\">令牌</a>，而不是用户名和密码来访问他们存放在特定服务提供者的数据。每一个令牌授权一个特定的网站（例如，视频编辑网站)在特定的时段（例如，接下来的2小时内）内访问特定的资源（例如仅仅是某一相册中的视频）。这样，OAuth让用户可以授权第三方网站访问他们存储在另外服务提供者的某些特定信息，而非所有内容。</p>\n<p>OAuth是<a href=\"https://zh.wikipedia.org/wiki/OpenID\" target=\"_blank\" rel=\"noopener\">OpenID</a>的一个补充，但是完全不同的服务。</p>\n<h2 id=\"Why-Oauth2-0\">Why Oauth2.0<a href=\"post/oauth2.0#Why-Oauth2-0\"></a></h2><h2 id=\"版本与历史\">版本与历史<a href=\"post/oauth2.0#版本与历史\"></a></h2><blockquote>\n<p>The OAuth 1.0 protocol was published as <a href=\"https://tools.ietf.org/html/rfc5849\" target=\"_blank\" rel=\"noopener\">RFC 5849</a>, an informational <a href=\"https://en.wikipedia.org/wiki/Request_for_Comments\" target=\"_blank\" rel=\"noopener\">Request for Comments</a>, in April 2010.</p>\n<p>Since 31 August 2010, all third party Twitter applications have been required to use OAuth.<a href=\"https://en.wikipedia.org/wiki/OAuth#cite_note-6\" target=\"_blank\" rel=\"noopener\">[6]</a></p>\n<p>The OAuth 2.0 framework was published as <a href=\"https://tools.ietf.org/html/rfc6749\" target=\"_blank\" rel=\"noopener\">RFC 6749</a>, and the Bearer Token Usage as <a href=\"https://tools.ietf.org/html/rfc6750\" target=\"_blank\" rel=\"noopener\">RFC 6750</a>, both standards track <a href=\"https://en.wikipedia.org/wiki/Requests_for_Comments\" target=\"_blank\" rel=\"noopener\">Requests for Comments</a>, in October 2012.</p>\n<p>— wiki</p>\n</blockquote>\n<h2 id=\"概念点\">概念点<a href=\"post/oauth2.0#概念点\"></a></h2><ul>\n<li><p><strong>RFC</strong></p>\n<blockquote>\n<p><strong>请求意见稿</strong>（英语：<strong>R</strong>equest <strong>f</strong>or <strong>C</strong>omments，缩写：<strong>RFC</strong>）是由<a href=\"https://zh.wikipedia.org/wiki/互联网工程任务组\" target=\"_blank\" rel=\"noopener\">互联网工程任务组</a>（IETF）发布的一系列<a href=\"https://zh.wikipedia.org/wiki/備忘錄\" target=\"_blank\" rel=\"noopener\">备忘录</a>。文件收集了有关<a href=\"https://zh.wikipedia.org/wiki/網際網路\" target=\"_blank\" rel=\"noopener\">互联网</a>相关信息，以及<a href=\"https://zh.wikipedia.org/wiki/UNIX\" target=\"_blank\" rel=\"noopener\">UNIX</a>和互联网<a href=\"https://zh.wikipedia.org/wiki/社群\" target=\"_blank\" rel=\"noopener\">社群</a>的软件文件，以编号排定。当前RFC文件是由<a href=\"https://zh.wikipedia.org/wiki/互联网协会\" target=\"_blank\" rel=\"noopener\">互联网协会</a>（ISOC）<a href=\"https://zh.wikipedia.org/wiki/贊助\" target=\"_blank\" rel=\"noopener\">赞助</a>发行</p>\n</blockquote>\n</li>\n<li><p><strong>Resource Owner</strong></p>\n<p>资源所属者，即用户</p>\n</li>\n<li><p><strong>Client | Third-party application</strong> </p>\n<p>客户端，指第三方应用，得到 <code>Resource Owner</code> 授权后便可以去访问 <code>Resource Owner</code>  的信息，如别名、手机号等等</p>\n</li>\n<li><p><strong>Authorization Server</strong></p>\n<p>授权服务器， 认证  <code>Resource Owner</code> 身份，为 <code>Resource Owner</code> 提供授权审批流程，并最终颁发授权令牌(Access Token)</p>\n</li>\n<li><p><strong>Resource Server</strong></p>\n<p>资源服务器，存储 <code>Resource Owner</code> 资源，并处理对资源的访问请求，<code>Client</code>拿到 授权令牌(Access Token)向资源服务器请求相关资源</p>\n</li>\n<li><p><strong>User Agent</strong></p>\n<p>浏览器，chrome、safari等等</p>\n</li>\n<li><p><strong>Access Token</strong></p>\n<p>授权令牌，一般来说，是有时效性的一段字符串，合法时间内，使用该令牌才可以访问具体资源</p>\n</li>\n<li><p><strong>Authorization Code</strong></p>\n<p>授权码，用于获得<code>Access Token</code>的一个key</p>\n</li>\n<li><p><strong>Authentication</strong></p>\n<p>认证，通过输入帐号和密码来认证用户</p>\n</li>\n<li><p><strong>Authorization</strong></p>\n<p>授权，并非通过帐号和密码，而是授于第三方某权限</p>\n</li>\n</ul>\n<p><code>Authorization Server</code>和 <code>Resource Server</code>有时候是同一台服务器</p>\n<h2 id=\"Authorization-Patterns\">Authorization Patterns<a href=\"post/oauth2.0#Authorization-Patterns\"></a></h2><p>授权模式</p>\n<h3 id=\"Authorization-Code-Grant-（授权码）\">Authorization Code Grant  （授权码）<a href=\"post/oauth2.0#Authorization-Code-Grant-（授权码）\"></a></h3><p>最常用的授权方式</p>\n<h3 id=\"Implicit-Grant-（隐式）\">Implicit Grant （隐式）<a href=\"post/oauth2.0#Implicit-Grant-（隐式）\"></a></h3><h3 id=\"Resource-Owner-Password-Credentials-Grant（密码）\">Resource Owner Password Credentials Grant（密码）<a href=\"post/oauth2.0#Resource-Owner-Password-Credentials-Grant（密码）\"></a></h3><h3 id=\"Client-Credentials-Grant（客户端凭证）\">Client Credentials Grant（客户端凭证）<a href=\"post/oauth2.0#Client-Credentials-Grant（客户端凭证）\"></a></h3><h2 id=\"References\">References<a href=\"post/oauth2.0#References\"></a></h2><ul>\n<li><p>推荐：<a href=\"https://tools.ietf.org/html/rfc6749#section-4.1\" target=\"_blank\" rel=\"noopener\">授权模式RFC</a></p>\n</li>\n<li><p>Security of mobile OAuth 2.0</p>\n</li>\n<li><p><a href=\"https://zhuanlan.zhihu.com/p/20913727\" target=\"_blank\" rel=\"noopener\">sd</a></p>\n</li>\n<li><p><a href=\"https://learnku.com/articles/20031\" target=\"_blank\" rel=\"noopener\">简易图解】『 OAuth2.0』 猴子都能懂的图解</a></p>\n</li>\n<li><p><a href=\"https://learnku.com/articles/20082\" target=\"_blank\" rel=\"noopener\">授权模式</a></p>\n</li>\n</ul>\n","next":{"title":"difference between mongo mongodb mongod","link":"post/difference-between-mongo-mongodb-mongod"},"plink":"https://spaco.github.io/post/oauth2.0/","toc":[{"title":"版本与历史","id":"版本与历史","index":"1"},{"title":"概念点","id":"概念点","index":"2"},{"title":"Authorization Patterns","id":"Authorization-Patterns","index":"3","children":[{"title":"Authorization Code Grant  （授权码）","id":"Authorization-Code-Grant-（授权码）","index":"3.1"},{"title":"Client Credentials Grant（客户端凭证）","id":"Client-Credentials-Grant（客户端凭证）","index":"3.2"}]},{"title":"References","id":"References","index":"4"}],"reward":true,"copyright":{"link":"<a href=\"https://spaco.github.io/post/oauth2.0/\" title=\"oauth2.0\">https://spaco.github.io/post/oauth2.0/</a>","license":"自由转载-非商用-禁止演绎-保持署名 (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"}}