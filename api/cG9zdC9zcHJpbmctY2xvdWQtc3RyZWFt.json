{"title":"Spring Cloud Stream","date":"2019-09-17T00:00:00.000Z","link":"post/spring-cloud-stream","tags":["spring-cloud"],"categories":["program"],"updated":"2019-09-17T00:00:00.000Z","content":"<p>Spring Cloud Stream</p>\n<h2 id=\"Introduction\">Introduction<a href=\"post/spring-cloud-stream#Introduction\"></a></h2><p><code>Spring Cloud Stream</code>是一种用于构建具有共享消息系统连接高度可扩展的事件驱动微服务的框架。 该框架提供了一个灵活的编程模型建立在已建立的和熟悉的Spring最佳实践，包括持续的pub / sub （消息的发布（Publish）和订阅（Subscribe）是事件驱动的经典模式），消费群体和状态分区的支持。</p>\n<h2 id=\"Advantage\">Advantage<a href=\"post/spring-cloud-stream#Advantage\"></a></h2><ul>\n<li>解耦</li>\n<li>扩展性</li>\n<li>可恢复性</li>\n<li>异步通信</li>\n<li>无缝切换消息队列选型</li>\n</ul>\n<h2 id=\"Development-Environment\">Development Environment<a href=\"post/spring-cloud-stream#Development-Environment\"></a></h2><ul>\n<li>Spring Boot : 2.1.7</li>\n<li>gradle : 5.6</li>\n<li>Java : jdk1.8</li>\n<li>Kafka : kafka_2.12</li>\n<li>intelliji</li>\n</ul>\n<h2 id=\"Key-Words\">Key Words<a href=\"post/spring-cloud-stream#Key-Words\"></a></h2><ul>\n<li><p>@Input</p>\n<p>类似于<code>Consumer</code>，消息消费者</p>\n</li>\n<li><p>@Output</p>\n<p>类似于 <code>Producer</code>，消息生产者</p>\n</li>\n<li><p>Binder</p>\n<p>Binder 是 Spring Cloud Stream 的一个抽象概念，是应用与消息中间件之间的粘合剂</p>\n</li>\n<li><p>Destination</p>\n<p>通过 binder ，可以很方便的连接中间件，可以动态的改变消息的destinations（对应于 Kafka 的topic，Rabbit MQ 的 exchanges），这些都可以通过外部配置项来做到。</p>\n</li>\n<li><p>Consumer Group</p>\n<p><code>Group</code>，如果使用过 <code>Kafka</code> 的并不会陌生。Spring Cloud Stream 的这个分组概念的意思基本和 Kafka 一致。微服务中动态的缩放同一个应用的数量以此来达到更高的处理能力是非常必须的。对于这种情况，同一个事件防止被重复消费，只要把这些应用放置于同一个 “group” 中，就能够保证消息只会被其中一个应用消费一次。</p>\n</li>\n<li><p><a href=\"https://cloud.spring.io/spring-cloud-static/spring-cloud-stream/2.2.1.RELEASE/spring-cloud-stream.html#partitioning\" target=\"_blank\" rel=\"noopener\">Partition</a></p>\n</li>\n</ul>\n<h2 id=\"Build-Producer-Client\">Build Producer Client<a href=\"post/spring-cloud-stream#Build-Producer-Client\"></a></h2><h3 id=\"配置Gradle\">配置Gradle<a href=\"post/spring-cloud-stream#配置Gradle\"></a></h3><figure class=\"highlight plain\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dependencies &#123;</span><br><span class=\"line\">    implementation &apos;org.springframework.boot:spring-boot-starter-actuator&apos;</span><br><span class=\"line\">    implementation &apos;org.springframework.boot:spring-boot-starter-web&apos;</span><br><span class=\"line\">    implementation &apos;org.apache.kafka:kafka-streams&apos;</span><br><span class=\"line\">    implementation &apos;org.springframework.cloud:spring-cloud-function-web&apos;</span><br><span class=\"line\">    implementation &apos;org.springframework.cloud:spring-cloud-starter&apos;</span><br><span class=\"line\">    implementation &apos;org.springframework.cloud:spring-cloud-starter-task&apos;</span><br><span class=\"line\">    implementation &apos;org.springframework.cloud:spring-cloud-stream&apos;</span><br><span class=\"line\">    implementation &apos;org.springframework.cloud:spring-cloud-stream-binder-kafka-streams&apos;</span><br><span class=\"line\">    implementation &apos;org.springframework.cloud:spring-cloud-stream-binder-kafka&apos;</span><br><span class=\"line\">    compileOnly &apos;org.projectlombok:lombok&apos;</span><br><span class=\"line\">    developmentOnly &apos;org.springframework.boot:spring-boot-devtools&apos;</span><br><span class=\"line\">    annotationProcessor &apos;org.springframework.boot:spring-boot-configuration-processor&apos;</span><br><span class=\"line\">    annotationProcessor &apos;org.projectlombok:lombok&apos;</span><br><span class=\"line\">    testImplementation &apos;org.springframework.boot:spring-boot-starter-test&apos;</span><br><span class=\"line\">    testImplementation &apos;org.springframework.cloud:spring-cloud-stream-test-support&apos;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></div></figure>\n<h3 id=\"配置-application-properties\">配置 application.properties<a href=\"post/spring-cloud-stream#配置-application-properties\"></a></h3><figure class=\"highlight plain\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server.port=8085</span><br><span class=\"line\">spring.application.name=stream-output</span><br><span class=\"line\">spring.cloud.stream.kafka.binder.brokers=localhost:9092</span><br><span class=\"line\">spring.cloud.stream.kafka.binder.auto-create-topics=true</span><br><span class=\"line\">spring.cloud.stream.bindings.refuel.destination=destination-demo</span><br><span class=\"line\">spring.cloud.stream.bindings.refuel.content-type=application/json</span><br></pre></td></tr></table></div></figure>\n<h3 id=\"Code-Producer\">Code : Producer<a href=\"post/spring-cloud-stream#Code-Producer\"></a></h3><p><code>控制器</code>提供外部访问接口，调取<code>Producer</code>,<code>Producer</code> 通过 <code>消息通道</code> 生产消息，</p>\n<h3 id=\"自定义消息通道-Channel\">自定义消息通道 Channel<a href=\"post/spring-cloud-stream#自定义消息通道-Channel\"></a></h3><figure class=\"highlight java\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.cloud.stream.annotation.Output;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.messaging.MessageChannel;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">RefuelChannel</span> </span>&#123;</span><br><span class=\"line\">    String OUTPUT = <span class=\"string\">\"refuel\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Output</span>(OUTPUT)</span><br><span class=\"line\">    <span class=\"function\">MessageChannel <span class=\"title\">output</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></div></figure>\n<h3 id=\"自定义-Producer\">自定义 Producer<a href=\"post/spring-cloud-stream#自定义-Producer\"></a></h3><figure class=\"highlight java\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> com.spaco.streamoutput.channel.RefuelChannel;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.cloud.stream.annotation.EnableBinding;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.messaging.support.MessageBuilder;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@EnableBinding</span>(RefuelChannel.class)</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RefuelProducer</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> RefuelChannel refuelChannel;</span><br><span class=\"line\">  </span><br><span class=\"line\">  \t<span class=\"meta\">@Autowired</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">RefuelProducer</span><span class=\"params\">(RefuelChannel refuelChannel)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.refuelChannel = refuelChannel;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">send</span><span class=\"params\">(String message)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        refuelChannel.output().send(MessageBuilder.withPayload(message).build());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></div></figure>\n<h4 id=\"Controller\">Controller<a href=\"post/spring-cloud-stream#Controller\"></a></h4><figure class=\"highlight java\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> com.spaco.streamoutput.producer.RefuelProducer;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.web.bind.annotation.RequestBody;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@RestController</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RefuelController</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> RefuelProducer refuelProducer;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">RefuelController</span><span class=\"params\">(RefuelProducer refuelProducer)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.refuelProducer = refuelProducer;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@GetMapping</span>(<span class=\"string\">\"/refuel\"</span>)</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">send</span><span class=\"params\">(@RequestBody Object message)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        log.error(<span class=\"string\">\"sent message: &#123;&#125;\"</span>,message);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.refuelProducer.send(message);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> message.toString();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></div></figure>\n<h3 id=\"启动服务\">启动服务<a href=\"post/spring-cloud-stream#启动服务\"></a></h3><h3 id=\"Test-Cases\">Test Cases<a href=\"post/spring-cloud-stream#Test-Cases\"></a></h3><p>命令行执行</p>\n<figure class=\"highlight bash\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -X  GET http://127.0.0.1:8085/refuel -H <span class=\"string\">'Content-Type: application/json'</span> -d <span class=\"string\">'&#123;\"message\":\"hello\"&#125;'</span></span><br></pre></td></tr></table></div></figure>\n<p>可以看到接口返回值，且消息已经发送成功</p>\n<figure class=\"highlight bash\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;message=hello&#125;</span><br></pre></td></tr></table></div></figure>\n<p>测试通过</p>\n<h2 id=\"Build-Consumer-Client\">Build Consumer Client<a href=\"post/spring-cloud-stream#Build-Consumer-Client\"></a></h2><h3 id=\"配置Gradle-1\">配置Gradle<a href=\"post/spring-cloud-stream#配置Gradle-1\"></a></h3><figure class=\"highlight plain\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dependencies &#123;</span><br><span class=\"line\">    implementation &apos;org.springframework.boot:spring-boot-starter-actuator&apos;</span><br><span class=\"line\">    implementation &apos;org.springframework.boot:spring-boot-starter-web&apos;</span><br><span class=\"line\">    implementation &apos;org.springframework.boot:spring-boot-starter-data-mongodb&apos;</span><br><span class=\"line\">    implementation &apos;org.apache.kafka:kafka-streams&apos;</span><br><span class=\"line\">    implementation &apos;org.springframework.cloud:spring-cloud-function-web&apos;</span><br><span class=\"line\">    implementation &apos;org.springframework.cloud:spring-cloud-starter&apos;</span><br><span class=\"line\">    implementation &apos;org.springframework.cloud:spring-cloud-starter-task&apos;</span><br><span class=\"line\">    implementation &apos;org.springframework.cloud:spring-cloud-stream&apos;</span><br><span class=\"line\">    implementation &apos;org.springframework.cloud:spring-cloud-stream-binder-kafka-streams&apos;</span><br><span class=\"line\">    implementation &apos;org.springframework.cloud:spring-cloud-stream-binder-kafka&apos;</span><br><span class=\"line\">    compileOnly &apos;org.projectlombok:lombok&apos;</span><br><span class=\"line\">    developmentOnly &apos;org.springframework.boot:spring-boot-devtools&apos;</span><br><span class=\"line\">    annotationProcessor &apos;org.springframework.boot:spring-boot-configuration-processor&apos;</span><br><span class=\"line\">    annotationProcessor &apos;org.projectlombok:lombok&apos;</span><br><span class=\"line\">    testImplementation &apos;org.springframework.boot:spring-boot-starter-test&apos;</span><br><span class=\"line\">    testImplementation &apos;org.springframework.cloud:spring-cloud-stream-test-support&apos;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></div></figure>\n<h3 id=\"配置-application-properties-1\">配置 application.properties<a href=\"post/spring-cloud-stream#配置-application-properties-1\"></a></h3><figure class=\"highlight plain\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server.port=8086</span><br><span class=\"line\">spring.application.name=stream-input</span><br><span class=\"line\">spring.cloud.stream.kafka.binder.brokers=localhost:9092</span><br><span class=\"line\">spring.cloud.stream.kafka.binder.auto-create-topics=true</span><br><span class=\"line\">#spring.cloud.stream.bindings.message-channel.destination=destination-demo</span><br><span class=\"line\">spring.cloud.stream.bindings.refuel.destination=destination-demo</span><br><span class=\"line\">spring.cloud.stream.bindings.refuel.content-type=application/json</span><br><span class=\"line\">spring.cloud.stream.bindings.refuel.group=group-name</span><br></pre></td></tr></table></div></figure>\n<h3 id=\"Code-Consumer\">Code : Consumer<a href=\"post/spring-cloud-stream#Code-Consumer\"></a></h3><h4 id=\"自定义消息通道-Channel-1\">自定义消息通道 Channel<a href=\"post/spring-cloud-stream#自定义消息通道-Channel-1\"></a></h4><figure class=\"highlight java\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.cloud.stream.annotation.Input;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.messaging.MessageChannel;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">RefuelChannel</span> </span>&#123;</span><br><span class=\"line\">    String INPUT = <span class=\"string\">\"refuel\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Input</span>(INPUT)</span><br><span class=\"line\">    <span class=\"function\">MessageChannel <span class=\"title\">input</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></div></figure>\n<h4 id=\"自定义Consumer\">自定义Consumer<a href=\"post/spring-cloud-stream#自定义Consumer\"></a></h4><figure class=\"highlight java\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> com.spaco.streaminput.consumer;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> com.spaco.streaminput.channel.RefuelChannel;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.cloud.stream.annotation.EnableBinding;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.cloud.stream.annotation.StreamListener;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@EnableBinding</span>(RefuelChannel.class)</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RefuelConsumer</span></span>&#123;</span><br><span class=\"line\">    <span class=\"meta\">@StreamListener</span>(RefuelChannel.INPUT)</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">receive</span><span class=\"params\">(Object payload)</span> </span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"received message: \"</span>+ payload);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></div></figure>\n<h3 id=\"启动服务-1\">启动服务<a href=\"post/spring-cloud-stream#启动服务-1\"></a></h3><h4 id=\"Test-Cases-1\">Test Cases<a href=\"post/spring-cloud-stream#Test-Cases-1\"></a></h4><p>producer 信息发送成功后，可以在 consumer 的Console 打印台看到如下信息</p>\n<figure class=\"highlight bash\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">received message: &#123;<span class=\"string\">\"message\"</span>:<span class=\"string\">\"hello\"</span>&#125;</span><br></pre></td></tr></table></div></figure>\n<p>测试通过，效果与我们希望的结果一致。producer 发送消息成功后，consumer 消费消息。</p>\n<h2 id=\"Questions\">Questions<a href=\"post/spring-cloud-stream#Questions\"></a></h2><ul>\n<li><p>重复执行</p>\n</li>\n<li><p>执行日志，记录每个消费操作执行的结果，失败可以通过定时任务重试</p>\n</li>\n<li><p>保证消息不丢失</p>\n</li>\n<li><p>幂等性设计</p>\n</li>\n</ul>\n<h2 id=\"References\">References<a href=\"post/spring-cloud-stream#References\"></a></h2><ul>\n<li><a href=\"https://github.com/spaco/spring-cloud-tutorial\" target=\"_blank\" rel=\"noopener\">项目Demo地址</a></li>\n<li><a href=\"https://spring.io/projects/spring-cloud-stream#overview\" target=\"_blank\" rel=\"noopener\">官方文档</a></li>\n<li><a href=\"https://www.cnblogs.com/huangjuncong/p/9102843.html\" target=\"_blank\" rel=\"noopener\">SpringCloud实战9-Stream消息驱动</a></li>\n<li><a href=\"https://segmentfault.com/a/1190000017212260\" target=\"_blank\" rel=\"noopener\">微服务中消息总线架构设计应用</a></li>\n<li><a href=\"https://segmentfault.com/a/1190000018910808\" target=\"_blank\" rel=\"noopener\">构建消息驱动微服务的框架 Spring Cloud Stream</a></li>\n<li><a href=\"https://fangjian0423.github.io/2019/04/03/spring-cloud-stream-intro/\" target=\"_blank\" rel=\"noopener\">Spring Cloud Stream 体系及原理介绍</a></li>\n</ul>\n","prev":{"title":"Spring Cloud Ribbon","link":"post/spring-cloud-ribbon"},"next":{"title":"Implementing the openssl_encrypt method of PHP using Java","link":"post/Implementing-the-openssl_encrypt-method-of-PHP-using-Java"},"plink":"https://spaco.github.io/post/spring-cloud-stream/","toc":[{"title":"Introduction","id":"Introduction","index":"1"},{"title":"Advantage","id":"Advantage","index":"2"},{"title":"Development Environment","id":"Development-Environment","index":"3"},{"title":"Key Words","id":"Key-Words","index":"4"},{"title":"Build Producer Client","id":"Build-Producer-Client","index":"5","children":[{"title":"配置Gradle","id":"配置Gradle","index":"5.1"},{"title":"配置 application.properties","id":"配置-application-properties","index":"5.2"},{"title":"Code : Producer","id":"Code-Producer","index":"5.3"},{"title":"自定义消息通道 Channel","id":"自定义消息通道-Channel","index":"5.4"},{"title":"自定义 Producer","id":"自定义-Producer","index":"5.5","children":[{"title":"Controller","id":"Controller","index":"5.5.1"}]},{"title":"Test Cases","id":"Test-Cases","index":"5.6"}]},{"title":"Build Consumer Client","id":"Build-Consumer-Client","index":"6","children":[{"title":"配置Gradle","id":"配置Gradle-1","index":"6.1"},{"title":"配置 application.properties","id":"配置-application-properties-1","index":"6.2"},{"title":"Code : Consumer","id":"Code-Consumer","index":"6.3","children":[{"title":"自定义消息通道 Channel","id":"自定义消息通道-Channel-1","index":"6.3.1"},{"title":"自定义Consumer","id":"自定义Consumer","index":"6.3.2"}]},{"title":"启动服务","id":"启动服务-1","index":"6.4","children":[{"title":"Test Cases","id":"Test-Cases-1","index":"6.4.1"}]}]},{"title":"Questions","id":"Questions","index":"7"},{"title":"References","id":"References","index":"8"}]}